[program:garbage_collector]
; Periodic execution: runs garbage_collect daily (86400 seconds = 24 hours)
; To change the interval, modify --interval value (in seconds)
command=/home/dripemails/dripemails/bin/python3 /home/dripemails/web/cron.py garbage_collect --settings=dripemails.live --periodic --interval 86400 --limit 1000
directory=/home/dripemails/web
user=dripemails
autostart=true
autorestart=true
startretries=3
startsecs=10
stopwaitsecs=600
stdout_logfile=/var/log/garbage_collector.log
stderr_logfile=/var/log/garbage_collector_error.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=5
stderr_logfile_maxbytes=10MB
stderr_logfile_backups=5
environment=PYTHONUNBUFFERED="1"
; 
; Configuration Options:
; --periodic: Runs continuously, executing garbage_collect at regular intervals
; --interval 86400: Interval in seconds between executions (default: 86400 = 24 hours)
; --limit 1000: Maximum number of records to delete per type (EmailMessage and EmailSendRequest) per cycle
;
; For one-time execution (not periodic), remove --periodic and --interval:
; command=/home/dripemails/dripemails/bin/python3 /home/dripemails/web/cron.py garbage_collect --settings=dripemails.live --limit 1000
;
; To run more frequently, change --interval (e.g., every 12 hours = 43200 seconds):
; command=/home/dripemails/dripemails/bin/python3 /home/dripemails/web/cron.py garbage_collect --settings=dripemails.live --periodic --interval 43200 --limit 1000
;
; To run weekly, change --interval to 604800 (7 days * 24 hours * 60 minutes * 60 seconds):
; command=/home/dripemails/dripemails/bin/python3 /home/dripemails/web/cron.py garbage_collect --settings=dripemails.live --periodic --interval 604800 --limit 1000
;
; What it does:
; - Deletes EmailMessage objects older than DATA_RETENTION_DAYS (default: 30 days)
; - Deletes EmailSendRequest objects older than DATA_RETENTION_DAYS (default: 30 days)
; - DATA_RETENTION_DAYS can be configured in Django settings (dripemails/live.py)

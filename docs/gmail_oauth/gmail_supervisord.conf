[program:gmail_email_processor]
command=/home/dripemails/dripemails/bin/python3 /home/dripemails/web/cron.py process_gmail_emails --settings=dripemails.live --limit 50
directory=/home/dripemails/web
user=dripemails
autostart=true
autorestart=true
startretries=3
startsecs=10
stopwaitsecs=600
stdout_logfile=/var/log/gmail_processor.log
stderr_logfile=/var/log/gmail_processor_error.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=5
stderr_logfile_maxbytes=10MB
stderr_logfile_backups=5
environment=PYTHONUNBUFFERED="1"
; This configuration runs the Gmail email processor continuously.
; For periodic execution (e.g., every 5 minutes), wrap the command in a loop:
; command=/bin/bash -c "while true; do /home/dripemails/dripemails/bin/python3 /home/dripemails/web/cron.py process_gmail_emails --settings=dripemails.live --limit 50 || true; sleep 300; done"
; 
; Or use a cron job instead:
; */5 * * * * /home/dripemails/dripemails/bin/python3 /home/dripemails/web/cron.py process_gmail_emails --settings=dripemails.live --limit 50


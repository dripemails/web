[program:imap_email_crawler]
; Periodic execution: runs crawl_imap every 2 minutes (120 seconds)
; To change the interval, modify --interval value (in seconds)
command=/home/dripemails/dripemails/bin/python3 /home/dripemails/web/cron.py crawl_imap --settings=dripemails.live --periodic --interval 120 --limit 50
directory=/home/dripemails/web
user=dripemails
autostart=true
autorestart=true
startretries=3
startsecs=10
stopwaitsecs=600
stdout_logfile=/var/log/imap_crawler.log
stderr_logfile=/var/log/imap_crawler_error.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=5
stderr_logfile_maxbytes=10MB
stderr_logfile_backups=5
environment=PYTHONUNBUFFERED="1"
; 
; Configuration Options:
; --periodic: Runs continuously, executing crawl_imap at regular intervals
; --interval 120: Interval in seconds between executions (default: 120 = 2 minutes)
; --limit 50: Maximum number of emails to process per credential per cycle
;
; For one-time execution (not periodic), remove --periodic and --interval:
; command=/home/dripemails/dripemails/bin/python3 /home/dripemails/web/cron.py crawl_imap --settings=dripemails.live --limit 50
;
; To run every 5 minutes instead of 2, change --interval to 300:
; command=/home/dripemails/dripemails/bin/python3 /home/dripemails/web/cron.py crawl_imap --settings=dripemails.live --periodic --interval 300 --limit 50


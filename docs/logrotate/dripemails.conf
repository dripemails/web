# Logrotate configuration for DripEmails.org
# This configuration rotates all log files created by the DripEmails project

# Application logs (in project directory)
/home/dripemails/web/logs/*.log {
    daily
    rotate 14
    compress
    delaycompress
    notifempty
    missingok
    create 0640 dripemails dripemails
}

# Gmail processor logs
/var/log/gmail_processor.log
/var/log/gmail_processor_error.log {
    daily
    rotate 7
    compress
    delaycompress
    notifempty
    missingok
    create 0640 dripemails dripemails
}

# IMAP crawler logs
/var/log/imap_crawler.log
/var/log/imap_crawler_error.log {
    daily
    rotate 7
    compress
    delaycompress
    notifempty
    missingok
    create 0640 dripemails dripemails
}

# General dripemails cron logs
/var/log/dripemails.log
/var/log/dripemails-error.log {
    daily
    rotate 7
    compress
    delaycompress
    notifempty
    missingok
    create 0640 dripemails dripemails
}

# Supervisor logs for dripemails services
/var/log/supervisor/dripemails*.log
/var/log/supervisor/dripemails*error.log {
    daily
    rotate 7
    compress
    delaycompress
    notifempty
    missingok
    create 0640 dripemails dripemails
}

# Ollama server logs (if used)
/var/log/supervisor/ollama-server.log
/var/log/supervisor/ollama-server-error.log {
    daily
    rotate 7
    compress
    delaycompress
    notifempty
    missingok
    create 0640 dripemails dripemails
}

# Nginx logs for dripemails
/var/log/nginx/dripemails-access.log
/var/log/nginx/dripemails-error.log {
    daily
    rotate 30
    compress
    delaycompress
    notifempty
    missingok
    create 0640 www-data www-data
}

# UWSGI logs (if used)
/var/log/uwsgi/dripemails.log {
    daily
    rotate 14
    compress
    delaycompress
    notifempty
    missingok
    create 0640 dripemails dripemails
}


{% extends "base.html" %}
{% load i18n static %}

{% block title %}{% trans "API Reference" %} - DripEmails.org{% endblock %}

{% block extra_head %}
<style>
    .api-endpoint {
        transition: all 0.3s ease;
    }
    .api-endpoint:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    }
    .method-badge {
        display: inline-block;
        padding: 0.25rem 0.75rem;
        border-radius: 0.375rem;
        font-size: 0.75rem;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }
    .method-get { background-color: #10b981; color: white; }
    .method-post { background-color: #3b82f6; color: white; }
    .method-put { background-color: #f59e0b; color: white; }
    .method-delete { background-color: #ef4444; color: white; }
    .method-patch { background-color: #8b5cf6; color: white; }
    .code-block {
        background: #1e293b;
        color: #e2e8f0;
        border-radius: 0.5rem;
        padding: 1.5rem;
        overflow-x: auto;
        position: relative;
    }
    .code-block pre {
        margin: 0;
        font-family: 'Courier New', monospace;
        font-size: 0.875rem;
        line-height: 1.6;
    }
    .copy-button {
        position: absolute;
        top: 0.5rem;
        right: 0.5rem;
        background: rgba(255,255,255,0.1);
        border: 1px solid rgba(255,255,255,0.2);
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 0.375rem;
        cursor: pointer;
        font-size: 0.75rem;
        transition: all 0.2s;
    }
    .copy-button:hover {
        background: rgba(255,255,255,0.2);
    }
    .endpoint-path {
        font-family: 'Courier New', monospace;
        font-size: 0.875rem;
        color: #6366f1;
        font-weight: 600;
    }
    .section-divider {
        border-top: 2px solid #e5e7eb;
        margin: 3rem 0;
    }
</style>
{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-gray-50 via-indigo-50 to-purple-50 py-12">
    <div class="container mx-auto px-4">
        <!-- Header -->
        <div class="text-center mb-12">
            <h1 class="text-5xl font-bold text-gray-900 mb-4">
                <span class="bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent">
                    {% trans "API Reference" %}
                </span>
            </h1>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                {% trans "Integrate DripEmails.org with your own tools and workflows. Complete REST API documentation with examples." %}
            </p>
        </div>

        <div class="max-w-6xl mx-auto">
            <!-- Quick Navigation -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-8 sticky top-4 z-10">
                <h2 class="text-lg font-semibold text-gray-900 mb-4">{% trans "Quick Navigation" %}</h2>
                <div class="flex flex-wrap gap-3">
                    <a href="#authentication" class="px-4 py-2 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 transition">üîê {% trans "Authentication" %}</a>
                    <a href="#campaigns" class="px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition">üìß {% trans "Campaigns" %}</a>
                    <a href="#subscribers" class="px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition">üë• {% trans "Subscribers" %}</a>
                    <a href="#emails" class="px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition">‚úâÔ∏è {% trans "Email Sending" %}</a>
                    <a href="#analytics" class="px-4 py-2 bg-yellow-100 text-yellow-700 rounded-lg hover:bg-yellow-200 transition">üìä {% trans "Analytics" %}</a>
                </div>
            </div>

            <!-- Base URL -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-4">{% trans "Base URL" %}</h2>
                <div class="code-block">
                    <button class="copy-button" onclick="copyToClipboard('{{ request.scheme }}://{{ request.get_host }}/api')">{% trans "Copy" %}</button>
                    <pre>{{ request.scheme }}://{{ request.get_host }}/api</pre>
                </div>
            </div>

            <!-- Authentication -->
            <div id="authentication" class="bg-white rounded-xl shadow-lg p-8 mb-8 api-endpoint">
                <h2 class="text-3xl font-bold text-gray-900 mb-6">üîê {% trans "Authentication" %}</h2>
                <p class="text-gray-700 mb-6">{% trans "All API requests require authentication using a Bearer token. Get your API key from your profile settings." %}</p>
                
                <div class="bg-indigo-50 border-l-4 border-indigo-500 p-4 rounded-r mb-6">
                    <p class="text-indigo-900"><strong>{% trans "How to get your API key:" %}</strong></p>
                    <ol class="list-decimal list-inside text-indigo-900 mt-2 space-y-1">
                        <li>{% trans "Log in to your account" %}</li>
                        <li>{% trans "Go to Settings ‚Üí Profile" %}</li>
                        <li>{% trans "Copy your API key or generate a new one" %}</li>
                    </ol>
                </div>

                <h3 class="text-xl font-semibold text-gray-900 mb-4">{% trans "Authentication Header" %}</h3>
                <div class="code-block mb-4">
                    <button class="copy-button" onclick="copyToClipboard('Authorization: Bearer YOUR_API_KEY_HERE')">{% trans "Copy" %}</button>
                    <pre>Authorization: Bearer YOUR_API_KEY_HERE</pre>
                </div>

                <h3 class="text-xl font-semibold text-gray-900 mb-4 mt-6">{% trans "Example Request" %}</h3>
                <div class="code-block">
                    <button class="copy-button" onclick="copyToClipboard(`curl -X GET '{{ request.scheme }}://{{ request.get_host }}/api/campaigns/' \\\n  -H 'Authorization: Bearer YOUR_API_KEY_HERE' \\\n  -H 'Content-Type: application/json'`)">{% trans "Copy" %}</button>
                    <pre>curl -X GET '{{ request.scheme }}://{{ request.get_host }}/api/campaigns/' \
  -H 'Authorization: Bearer YOUR_API_KEY_HERE' \
  -H 'Content-Type: application/json'</pre>
                </div>
            </div>

            <!-- Campaigns -->
            <div id="campaigns" class="bg-white rounded-xl shadow-lg p-8 mb-8 api-endpoint">
                <h2 class="text-3xl font-bold text-gray-900 mb-6">üìß {% trans "Campaigns" %}</h2>
                
                <!-- List/Create Campaigns -->
                <div class="mb-8 pb-8 border-b border-gray-200">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="method-badge method-get">GET</span>
                        <span class="method-badge method-post">POST</span>
                        <span class="endpoint-path">/api/campaigns/</span>
                    </div>
                    <p class="text-gray-700 mb-4">{% trans "List all campaigns or create a new campaign." %}</p>
                    
                    <h4 class="font-semibold text-gray-900 mb-2">{% trans "POST Request Body" %}</h4>
                    <div class="code-block mb-4">
                        <button class="copy-button" onclick="copyToClipboard(`{\n  \"name\": \"Welcome Series\",\n  \"description\": \"Onboarding emails for new subscribers\",\n  \"subscriber_list\": \"list-uuid-here\"\n}`)">{% trans "Copy" %}</button>
                        <pre>{
  "name": "Welcome Series",
  "description": "Onboarding emails for new subscribers",
  "subscriber_list": "list-uuid-here"
}</pre>
                    </div>

                    <h4 class="font-semibold text-gray-900 mb-2">{% trans "Response (201 Created)" %}</h4>
                    <div class="code-block">
                        <button class="copy-button" onclick="copyToClipboard(`{\n  \"id\": \"campaign-uuid\",\n  \"name\": \"Welcome Series\",\n  \"description\": \"Onboarding emails for new subscribers\",\n  \"is_active\": false,\n  \"subscriber_list\": \"list-uuid-here\",\n  \"created_at\": \"2024-01-01T00:00:00Z\"\n}`)">{% trans "Copy" %}</button>
                        <pre>{
  "id": "campaign-uuid",
  "name": "Welcome Series",
  "description": "Onboarding emails for new subscribers",
  "is_active": false,
  "subscriber_list": "list-uuid-here",
  "created_at": "2024-01-01T00:00:00Z"
}</pre>
                    </div>
                </div>

                <!-- Get/Update/Delete Campaign -->
                <div class="mb-8 pb-8 border-b border-gray-200">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="method-badge method-get">GET</span>
                        <span class="method-badge method-put">PUT</span>
                        <span class="method-badge method-delete">DELETE</span>
                        <span class="endpoint-path">/api/campaigns/&lt;campaign_id&gt;/</span>
                    </div>
                    <p class="text-gray-700 mb-4">{% trans "Get, update, or delete a specific campaign." %}</p>
                </div>

                <!-- Activate Campaign -->
                <div class="mb-8 pb-8 border-b border-gray-200">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="method-badge method-post">POST</span>
                        <span class="endpoint-path">/api/campaigns/&lt;campaign_id&gt;/activate/</span>
                    </div>
                    <p class="text-gray-700 mb-4">{% trans "Activate a campaign to start sending emails." %}</p>
                </div>

                <!-- Deactivate Campaign -->
                <div class="mb-8 pb-8 border-b border-gray-200">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="method-badge method-post">POST</span>
                        <span class="endpoint-path">/api/campaigns/&lt;campaign_id&gt;/deactivate/</span>
                    </div>
                    <p class="text-gray-700 mb-4">{% trans "Deactivate a campaign to stop sending emails." %}</p>
                </div>

                <!-- Campaign Stats -->
                <div class="mb-8 pb-8 border-b border-gray-200">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="method-badge method-get">GET</span>
                        <span class="endpoint-path">/api/campaigns/&lt;campaign_id&gt;/stats/</span>
                    </div>
                    <p class="text-gray-700 mb-4">{% trans "Get statistics for a campaign including open rates, click rates, and engagement metrics." %}</p>
                </div>

                <!-- List/Create Emails -->
                <div class="mb-8 pb-8 border-b border-gray-200">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="method-badge method-get">GET</span>
                        <span class="method-badge method-post">POST</span>
                        <span class="endpoint-path">/api/campaigns/&lt;campaign_id&gt;/emails/</span>
                    </div>
                    <p class="text-gray-700 mb-4">{% trans "List all emails in a campaign or create a new email template." %}</p>
                    
                    <h4 class="font-semibold text-gray-900 mb-2">{% trans "POST Request Body" %}</h4>
                    <div class="code-block">
                        <button class="copy-button" onclick="copyToClipboard(`{\n  \"subject\": \"Welcome to DripEmails!\",\n  \"content\": \"<p>Hi {first_name}, welcome!</p>\",\n  \"wait_time\": 1,\n  \"wait_unit\": \"days\",\n  \"order\": 0\n}`)">{% trans "Copy" %}</button>
                        <pre>{
  "subject": "Welcome to DripEmails!",
  "content": "<p>Hi {first_name}, welcome!</p>",
  "wait_time": 1,
  "wait_unit": "days",
  "order": 0
}</pre>
                    </div>
                </div>

                <!-- Get/Update/Delete Email -->
                <div class="mb-8 pb-8 border-b border-gray-200">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="method-badge method-get">GET</span>
                        <span class="method-badge method-put">PUT</span>
                        <span class="method-badge method-delete">DELETE</span>
                        <span class="endpoint-path">/api/campaigns/&lt;campaign_id&gt;/emails/&lt;email_id&gt;/</span>
                    </div>
                    <p class="text-gray-700 mb-4">{% trans "Get, update, or delete a specific email template." %}</p>
                </div>

                <!-- Reorder Emails -->
                <div class="mb-8 pb-8 border-b border-gray-200">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="method-badge method-post">POST</span>
                        <span class="endpoint-path">/api/campaigns/&lt;campaign_id&gt;/emails/reorder/</span>
                    </div>
                    <p class="text-gray-700 mb-4">{% trans "Reorder email templates in a campaign sequence." %}</p>
                </div>

                <!-- Send Email -->
                <div class="mb-8 pb-8 border-b border-gray-200">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="method-badge method-post">POST</span>
                        <span class="endpoint-path">/api/campaigns/&lt;campaign_id&gt;/emails/&lt;email_id&gt;/send/</span>
                    </div>
                    <p class="text-gray-700 mb-4">{% trans "Send an email to a specific subscriber from a campaign." %}</p>
                </div>

                <!-- Test Email -->
                <div class="mb-8 pb-8 border-b border-gray-200">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="method-badge method-post">POST</span>
                        <span class="endpoint-path">/api/campaigns/&lt;campaign_id&gt;/emails/&lt;email_id&gt;/test/</span>
                    </div>
                    <p class="text-gray-700 mb-4">{% trans "Send a test email to verify the template before sending to subscribers." %}</p>
                </div>

                <!-- Generate Email with AI -->
                <div class="mb-8">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="method-badge method-post">POST</span>
                        <span class="endpoint-path">/api/campaigns/&lt;campaign_id&gt;/generate-email/</span>
                    </div>
                    <p class="text-gray-700 mb-4">{% trans "Use AI to generate email content for a campaign." %}</p>
                </div>
            </div>

            <!-- Subscribers -->
            <div id="subscribers" class="bg-white rounded-xl shadow-lg p-8 mb-8 api-endpoint">
                <h2 class="text-3xl font-bold text-gray-900 mb-6">üë• {% trans "Subscribers" %}</h2>
                
                <!-- List/Create Subscribers -->
                <div class="mb-8 pb-8 border-b border-gray-200">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="method-badge method-get">GET</span>
                        <span class="method-badge method-post">POST</span>
                        <span class="endpoint-path">/api/subscribers/</span>
                    </div>
                    <p class="text-gray-700 mb-4">{% trans "List all subscribers or create a new subscriber. Use ?list_id=&lt;uuid&gt; to filter by list." %}</p>
                    
                    <h4 class="font-semibold text-gray-900 mb-2">{% trans "POST Request Body" %}</h4>
                    <div class="code-block mb-4">
                        <button class="copy-button" onclick="copyToClipboard(`{\n  \"email\": \"user@example.com\",\n  \"first_name\": \"John\",\n  \"last_name\": \"Doe\",\n  \"list_id\": \"list-uuid-here\",\n  \"is_active\": true\n}`)">{% trans "Copy" %}</button>
                        <pre>{
  "email": "user@example.com",
  "first_name": "John",
  "last_name": "Doe",
  "list_id": "list-uuid-here",
  "is_active": true
}</pre>
                    </div>
                </div>

                <!-- Get/Update/Delete Subscriber -->
                <div class="mb-8 pb-8 border-b border-gray-200">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="method-badge method-get">GET</span>
                        <span class="method-badge method-put">PUT</span>
                        <span class="method-badge method-delete">DELETE</span>
                        <span class="endpoint-path">/api/subscribers/&lt;subscriber_id&gt;/</span>
                    </div>
                    <p class="text-gray-700 mb-4">{% trans "Get, update, or delete a specific subscriber." %}</p>
                </div>

                <!-- Import Subscribers -->
                <div class="mb-8 pb-8 border-b border-gray-200">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="method-badge method-post">POST</span>
                        <span class="endpoint-path">/api/subscribers/import/</span>
                    </div>
                    <p class="text-gray-700 mb-4">{% trans "Import subscribers from a CSV file. Requires multipart/form-data with a file upload." %}</p>
                </div>

                <!-- Validate File -->
                <div class="mb-8 pb-8 border-b border-gray-200">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="method-badge method-post">POST</span>
                        <span class="endpoint-path">/api/subscribers/validate-file/</span>
                    </div>
                    <p class="text-gray-700 mb-4">{% trans "Validate a CSV file before importing to check for errors." %}</p>
                </div>

                <!-- List Lists -->
                <div class="mb-8 pb-8 border-b border-gray-200">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="method-badge method-get">GET</span>
                        <span class="method-badge method-post">POST</span>
                        <span class="endpoint-path">/api/subscribers/lists/</span>
                    </div>
                    <p class="text-gray-700 mb-4">{% trans "List all subscriber lists or create a new list." %}</p>
                    
                    <h4 class="font-semibold text-gray-900 mb-2">{% trans "POST Request Body" %}</h4>
                    <div class="code-block mb-4">
                        <button class="copy-button" onclick="copyToClipboard(`{\n  \"name\": \"Newsletter Subscribers\",\n  \"description\": \"Main newsletter list\"\n}`)">{% trans "Copy" %}</button>
                        <pre>{
  "name": "Newsletter Subscribers",
  "description": "Main newsletter list"
}</pre>
                    </div>
                </div>

                <!-- Get/Update/Delete List -->
                <div class="mb-8">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="method-badge method-get">GET</span>
                        <span class="method-badge method-put">PUT</span>
                        <span class="method-badge method-delete">DELETE</span>
                        <span class="endpoint-path">/api/subscribers/lists/&lt;list_id&gt;/</span>
                    </div>
                    <p class="text-gray-700 mb-4">{% trans "Get, update, or delete a specific subscriber list." %}</p>
                </div>
            </div>

            <!-- Email Sending -->
            <div id="emails" class="bg-white rounded-xl shadow-lg p-8 mb-8 api-endpoint">
                <h2 class="text-3xl font-bold text-gray-900 mb-6">‚úâÔ∏è {% trans "Email Sending" %}</h2>
                
                <!-- Send Email -->
                <div class="mb-8 pb-8 border-b border-gray-200">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="method-badge method-post">POST</span>
                        <span class="endpoint-path">/api/send-email/</span>
                    </div>
                    <p class="text-gray-700 mb-4">{% trans "Send an email to a subscriber with optional scheduling." %}</p>
                    
                    <h4 class="font-semibold text-gray-900 mb-2">{% trans "POST Request Body" %}</h4>
                    <div class="code-block mb-4">
                        <button class="copy-button" onclick="copyToClipboard(`{\n  \"email\": \"user@example.com\",\n  \"first_name\": \"John\",\n  \"last_name\": \"Doe\",\n  \"campaign_id\": \"campaign-uuid\",\n  \"email_id\": \"email-uuid\",\n  \"schedule\": \"days\",\n  \"schedule_value\": \"3\"\n}`)">{% trans "Copy" %}</button>
                        <pre>{
  "email": "user@example.com",
  "first_name": "John",
  "last_name": "Doe",
  "campaign_id": "campaign-uuid",
  "email_id": "email-uuid",
  "schedule": "days",
  "schedule_value": "3"
}</pre>
                    </div>
                    <p class="text-sm text-gray-600 mb-4">{% trans "Schedule options: 'now', 'minutes', 'hours', 'days', 'weeks', 'months', 'seconds'" %}</p>
                </div>

                <!-- List Send Requests -->
                <div class="mb-8 pb-8 border-b border-gray-200">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="method-badge method-get">GET</span>
                        <span class="endpoint-path">/api/send-email/requests/</span>
                    </div>
                    <p class="text-gray-700 mb-4">{% trans "List all email send requests with their status." %}</p>
                </div>

                <!-- Send Now -->
                <div class="mb-8 pb-8 border-b border-gray-200">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="method-badge method-post">POST</span>
                        <span class="endpoint-path">/api/send-email/requests/&lt;request_id&gt;/send-now/</span>
                    </div>
                    <p class="text-gray-700 mb-4">{% trans "Send a scheduled email immediately instead of waiting for the scheduled time." %}</p>
                </div>

                <!-- Unsubscribe from Request -->
                <div class="mb-8">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="method-badge method-post">POST</span>
                        <span class="endpoint-path">/api/send-email/requests/&lt;request_id&gt;/unsubscribe/</span>
                    </div>
                    <p class="text-gray-700 mb-4">{% trans "Unsubscribe a subscriber from a send request." %}</p>
                </div>
            </div>

            <!-- Analytics -->
            <div id="analytics" class="bg-white rounded-xl shadow-lg p-8 mb-8 api-endpoint">
                <h2 class="text-3xl font-bold text-gray-900 mb-6">üìä {% trans "Analytics" %}</h2>
                
                <!-- Create Footer -->
                <div class="mb-8 pb-8 border-b border-gray-200">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="method-badge method-post">POST</span>
                        <span class="endpoint-path">/api/footers/create/</span>
                    </div>
                    <p class="text-gray-700 mb-4">{% trans "Create a new email footer template." %}</p>
                </div>

                <!-- Regenerate API Key -->
                <div class="mb-8">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="method-badge method-post">POST</span>
                        <span class="endpoint-path">/api/regenerate-key/</span>
                    </div>
                    <p class="text-gray-700 mb-4">{% trans "Regenerate your API key. The old key will be invalidated." %}</p>
                </div>
            </div>

            <!-- Profile -->
            <div class="bg-white rounded-xl shadow-lg p-8 mb-8 api-endpoint">
                <h2 class="text-3xl font-bold text-gray-900 mb-6">‚öôÔ∏è {% trans "Profile Settings" %}</h2>
                
                <div class="mb-8">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="method-badge method-get">GET</span>
                        <span class="method-badge method-put">PUT</span>
                        <span class="endpoint-path">/api/profile/settings/</span>
                    </div>
                    <p class="text-gray-700 mb-4">{% trans "Get or update your profile settings including timezone preferences." %}</p>
                </div>
            </div>

            <!-- Example Code -->
            <div class="bg-gradient-to-br from-indigo-600 to-purple-600 rounded-xl shadow-lg p-8 text-white">
                <h2 class="text-3xl font-bold mb-6">üíª {% trans "Example Code" %}</h2>
                
                <div class="bg-white/10 backdrop-blur-sm rounded-lg p-6 mb-6">
                    <h3 class="text-xl font-semibold mb-4">{% trans "Python Example" %}</h3>
                    <div class="code-block bg-gray-900">
                        <button class="copy-button" onclick="copyToClipboard(`import requests\n\nurl = '{{ request.scheme }}://{{ request.get_host }}/api/campaigns/'\nheaders = {\n    'Authorization': 'Bearer YOUR_API_KEY_HERE',\n    'Content-Type': 'application/json'\n}\n\n# List campaigns\nresponse = requests.get(url, headers=headers)\ncampaigns = response.json()\nprint(campaigns)\n\n# Create a campaign\ncampaign_data = {\n    'name': 'Welcome Series',\n    'description': 'Onboarding emails'\n}\nresponse = requests.post(url, json=campaign_data, headers=headers)\nnew_campaign = response.json()\nprint(new_campaign)`)">{% trans "Copy" %}</button>
                        <pre>import requests

url = '{{ request.scheme }}://{{ request.get_host }}/api/campaigns/'
headers = {
    'Authorization': 'Bearer YOUR_API_KEY_HERE',
    'Content-Type': 'application/json'
}

# List campaigns
response = requests.get(url, headers=headers)
campaigns = response.json()
print(campaigns)

# Create a campaign
campaign_data = {
    'name': 'Welcome Series',
    'description': 'Onboarding emails'
}
response = requests.post(url, json=campaign_data, headers=headers)
new_campaign = response.json()
print(new_campaign)</pre>
                    </div>
                </div>

                <div class="bg-white/10 backdrop-blur-sm rounded-lg p-6">
                    <h3 class="text-xl font-semibold mb-4">{% trans "cURL Example" %}</h3>
                    <div class="code-block bg-gray-900">
                        <button class="copy-button" onclick="copyToClipboard(`# List campaigns\ncurl -X GET '{{ request.scheme }}://{{ request.get_host }}/api/campaigns/' \\\n  -H 'Authorization: Bearer YOUR_API_KEY_HERE' \\\n  -H 'Content-Type: application/json'\n\n# Create a campaign\ncurl -X POST '{{ request.scheme }}://{{ request.get_host }}/api/campaigns/' \\\n  -H 'Authorization: Bearer YOUR_API_KEY_HERE' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\"name\": \"Welcome Series\", \"description\": \"Onboarding emails\"}'`)">{% trans "Copy" %}</button>
                        <pre># List campaigns
curl -X GET '{{ request.scheme }}://{{ request.get_host }}/api/campaigns/' \
  -H 'Authorization: Bearer YOUR_API_KEY_HERE' \
  -H 'Content-Type: application/json'

# Create a campaign
curl -X POST '{{ request.scheme }}://{{ request.get_host }}/api/campaigns/' \
  -H 'Authorization: Bearer YOUR_API_KEY_HERE' \
  -H 'Content-Type: application/json' \
  -d '{"name": "Welcome Series", "description": "Onboarding emails"}'</pre>
                    </div>
                </div>
            </div>

            <!-- Response Codes -->
            <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-6">üìã {% trans "HTTP Status Codes" %}</h2>
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="border-l-4 border-green-500 pl-4">
                        <h3 class="font-semibold text-gray-900">200 OK</h3>
                        <p class="text-gray-700 text-sm">{% trans "Request successful" %}</p>
                    </div>
                    <div class="border-l-4 border-blue-500 pl-4">
                        <h3 class="font-semibold text-gray-900">201 Created</h3>
                        <p class="text-gray-700 text-sm">{% trans "Resource created successfully" %}</p>
                    </div>
                    <div class="border-l-4 border-red-500 pl-4">
                        <h3 class="font-semibold text-gray-900">400 Bad Request</h3>
                        <p class="text-gray-700 text-sm">{% trans "Invalid request data" %}</p>
                    </div>
                    <div class="border-l-4 border-red-600 pl-4">
                        <h3 class="font-semibold text-gray-900">401 Unauthorized</h3>
                        <p class="text-gray-700 text-sm">{% trans "Missing or invalid authentication" %}</p>
                    </div>
                    <div class="border-l-4 border-red-700 pl-4">
                        <h3 class="font-semibold text-gray-900">403 Forbidden</h3>
                        <p class="text-gray-700 text-sm">{% trans "Access denied" %}</p>
                    </div>
                    <div class="border-l-4 border-orange-500 pl-4">
                        <h3 class="font-semibold text-gray-900">404 Not Found</h3>
                        <p class="text-gray-700 text-sm">{% trans "Resource not found" %}</p>
                    </div>
                    <div class="border-l-4 border-red-800 pl-4">
                        <h3 class="font-semibold text-gray-900">500 Server Error</h3>
                        <p class="text-gray-700 text-sm">{% trans "Internal server error" %}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function copyToClipboard(text) {
    navigator.clipboard.writeText(text).then(function() {
        // Show feedback
        const button = event.target;
        const originalText = button.textContent;
        button.textContent = '‚úì Copied!';
        button.style.background = 'rgba(34, 197, 94, 0.3)';
        setTimeout(function() {
            button.textContent = originalText;
            button.style.background = 'rgba(255,255,255,0.1)';
        }, 2000);
    });
}

// Smooth scrolling for anchor links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});
</script>
{% endblock %}
